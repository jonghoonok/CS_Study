# OOP



참고자료

- 이것이 자바다
- fastcamp 한번에 끝내는 Java/Spring 웹 개발 마스터 패키지
- Softbank 신입사원 OJT



[TOC]

## **1. OOP 개론**



객체란?

- 사전적 의미 : 의사나 행위가 미치는 대상
- 구체적, 추상적 데이터의 단위



객체 지향 프로그래밍 vs 절차 지향 프로그래밍

- 객체 지향 프로그래밍
  - **객체 사이의 interaction에 따라 프로그래밍**
    - 학생 객체 - 세면대 객체 - 밥 객체 - 버스 객체들 간에 상호작용
    - 객체의 정의 -> 각 객체가 제공하는 기능 구현 -> 메세지 전달을 통해 상호작용 구현
- 절차 지향 프로그래밍
  - **시간이나 사건 흐름에 따라 프로그래밍**
  - 일어난다 - 씻는다 - 밥먹는다 - 버스 탄다
- 절차 지향의 구현이 쉬워보이나 프로그램이 복잡해지면 객체 지향이 훨씬 간단



객체와 클래스

- 클래스는 객체의 blueprint다
  - 각 객체가 가지는 속성을 클래스의 **멤버 변수**로 선언함
  - 프로그램을 짜기 전에 필요한 객체들을 정의하고, 각각을 클래스로 설계함
    - 클래스를 만든다는 것은 **추상화 작업**
    - 학생 클래스, 주문 클래스, 회원 클래스...
- 클래스 코딩
  - 클래스 이름은 PascalCase
    - 멤버 변수와 메서드는 camelCase
  - 하나의 java 파일에는 하나의 public 클래스가 있어야 하며 파일명과 클래스명이 동일해야 함



함수와 메서드

- 함수란?

  - **하나의 기능을 수행**하는 일련의 코드

  - 정의된 함수는 **호출하여 사용하고, 기능이 끝나면 제어가 반환됨**

    - 함수는 여러 곳에서 동일한 방식으로 호출되어 사용될 수 있음
    - 함수가 호출되면 **스택**에 함수가 사용할 메모리 공간이 생성되고, 지역 변수가 저장됨
    - 함수가 끝나면 메모리 공간이 해제되면서 반환되는 것

  - 함수의 정의: 반환 값 + 이름 + 매개 변수 + 함수 몸체

    - ```java
      int add(int num1, int num2){
          int result;
          result = num1 + num2;
          return result;
      }
      ```

- 메서드란?

  - 객체의 기능을 구현하기 위해 **클래스 내부에 구현되는 함수**
    - 멤버 변수를 매개 변수로 사용하여 멤버 함수라고 하기도 함
  - 메서드 이름은 객체에 맞춰서 지음
    - 예) `getStudentName()` 



인스턴스

- **특정 클래스 기반으로 생성된 객체**를 클래스의 인스턴스라고 함
  - 인스턴스는 해당 클래스의 멤버 변수, 메서드를 사용할 수 있음
  - 생성은 `new 생성자()`로 함
- 생성된 인스턴스는 **heap에 할당됨**
  - 하나의 클래스는 여러 인스턴스를 생성할 수 있는데, 각각 다른 메모리 주소를 가리키기 위해 힙 사용
  - 사용되지 않는 인스턴스는 GC가 자동으로 메모리에서 해제함
  - 메모리에 생성된 인스턴스를 가리키는 변수를 **참조 변수**, 해당 메모리 주소 값을 **참조 값**이라 함



생성자

- 어떤 클래스에서 **인스턴스를 생성하는 함수**를 생성자라고 함

  - 클래스에는 반드시 하나 이상의 생성자가 있고, 구현하지 않으면 컴파일러가 **기본 생성자**를 넣음
    - 생성자가 있는데 기본 생성자를 호출하면 에러: 만들어줘야 함
  - 기본 생성자는 매개 변수가 없고 그냥 인스턴스를 선언만 함: 나중에 값을 넣어줘야 함
    - 초기화는 되어 있는데 기본 값으로 되어 있음(int면 0)
    - 지역 변수는 선언만 하면 초기화되지 않지만 멤버변수는 생성되면 초기화는 됨

- 생성자 만들기

  - **this**의 이해

    - this는 인스턴스 자신의 메모리를 가리킴

      1. 생성자는 파라미터로 들어온 값을 이용해 인스턴스를 만든다
      2. 그런데 일반적으로 파라미터는 멤버 변수와 이름을 동일하게 지음
      3. `studentNumber = studentNumber`와 같은 상황이 발생
      4. this를 붙여서 "이" 인스턴스의 멤버변수에 파라미터 studentNumber를 대입한다는 의미를 부여
      5. `this.studentNumber = studentNumber`

    - 생성자 내에서 또 다른 생성자를 호출할 때 사용

    - 자신의 주소를 반환할 때 사용

      - ```java
        public Person getPerson(){
            return this;
        }
        ```

  - 생성자 **오버로딩**

    - **메서드는 같고 매개변수가 다른 것**을 오버로딩이라 함
    - 클라이언트 코드(생성자를 호출하는 코드)에서 여러 생성자 중 필요에 따라 호출할 수 있음



참조 자료형 변수

- 변수의 자료형은 다음과 같이 분류됨
  - 기본 자료형(int, long, float, double) 등: 메모리 크기가 정해져 있는 타입
  - 참조 자료형(String, Date, UserClass): 클래스에 따라 메모리 크기가 다름
    - 참조 자료형을 사용할 때는 해당 변수에 대해 객체를 생성해야 함(String 제외)
- 참조 자료형 변수의 사용
  - **하나의 클래스에 정보가 너무 많이 들어가지 않도록** 클래스를 분리하여 해당 클래스의 객체를 사용
  - 예) 학생의 과목별 성적: 학생 클래스 + 성적 클래스로 분리하고 학생이 성적 객체(의 배열)을 가짐



접근 제어 지시자

- **클래스 외부에서 클래스의 멤버 변수, 메서드, 생성자를 사용할 수 있는지** 지정하는 키워드
  - default: 지정하지 않으면 디폴트로 같은 패키지에서만 접근 가능
  - public: 어디에서나 접근 가능
  - private: 같은 클래스 내부에서만 접근 가능
  - protected: 같은 패키지나 상속관계의 클래스에서 접근 가능
- 접근 제어 지시자는 왜 필요한가? **정보 은닉**
  - 최소한의 정보를 오픈함으로써 객체의 오류를 방지
  - private으로 제어한 멤버 변수는 public method(get, set)를 통해 접근을 제한하여 최소한의 정보를 오픈
    - 예) month의 값이 1부터 12 사이일 때만 set 가능하게 함
- 멤버 변수를 사용하는 방법 **get, set**
  - private으로 제어된 멤버 변수에 대해 접근/수정할 수 있는 public method



캡슐화

- 정보 은닉을 활용하여 **꼭 필요한 정보와 기능만 외부에 오픈하는 것**을 말함
  - 대부분의 멤버 변수와 메서드를 감추고 외부에 통합된 인터페이스만 공개하여 일관된 기능을 제공함
  - 메서드와 멤버 변수에 접근할 때 발생하는 오류를 최소화



객체 협력 collaboration

- 객체 간에 필요한 메세지를 전송하고 처리하는 것
  - 예) 학생 객체가 버스 객체에 탑승하여 버슷 객체의 승객 수가 변화
- 매개 변수로 객체가 전달될 수 있음



static 변수

![static](https://gitlab.com/easyspubjava/javacoursework/-/raw/master/Chapter2/2-16/img/mem.png)

- 여러 인스턴스에서 **공통으로 사용하는 변수**
  - 여러 인스턴스가 공유하는 기준 값이 필요한 경우 사용
  - 예) 학번, 카드 번호, 사원 번호 등
  - 프로그램이 메모리에 로딩될 때 Data(Static)영역에 할당됨
- static변수 선언과 사용
  - `static int serialNum;`
  - 클래스 변수, 정적 변수라고도 함
    - 클래스 이름으로 직접 참조 `Student.serialNum = 100;`
    - 인스턴스 이름으로도 참조할 수 있긴 한데 권장하진 않음